{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "theme-toggle-button-rounded",
  "type": "registry:component",
  "title": "Theme Toggle Button - Rounded",
  "description": "Rounded theme toggle button variant.",
  "dependencies": [
    "gsap"
  ],
  "files": [
    {
      "path": "registry/new-york/components/theme-toggle-button/theme-toggle-button.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { gsap } from \"gsap\";\r\nimport { MorphSVGPlugin } from \"gsap/MorphSVGPlugin\";\r\n\r\n// Register the MorphSVGPlugin\r\nif (typeof window !== \"undefined\") {\r\n  gsap.registerPlugin(MorphSVGPlugin);\r\n}\r\n\r\nimport { useTheme } from \"next-themes\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst themeToggleButtonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\ninterface ThemeToggleButtonProps\r\n  extends React.ComponentProps<\"button\">,\r\n    VariantProps<typeof themeToggleButtonVariants> {\r\n  asChild?: boolean;\r\n  duration?: number;\r\n  ease?: string;\r\n  onStateChange?: (isDark: boolean) => void;\r\n}\r\n\r\nconst ThemeToggleButton = React.forwardRef<\r\n  HTMLButtonElement,\r\n  ThemeToggleButtonProps\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      variant,\r\n      size,\r\n      asChild = false,\r\n      duration = 0.5,\r\n      ease = \"power2.inOut\",\r\n      onClick,\r\n      onStateChange,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const { theme, setTheme } = useTheme();\r\n    const [isDark, setIsDark] = React.useState(false);\r\n    const [mounted, setMounted] = React.useState(false);\r\n    const circleRef = React.useRef<SVGCircleElement>(null);\r\n    const raysRef = React.useRef<SVGPathElement>(null);\r\n\r\n    // SVG path data - Sun rays (Lucide Sun icon paths)\r\n    const sunRays =\r\n      \"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41\";\r\n\r\n    // Moon crescent shape (Lucide Moon icon path)\r\n    const moonCrescent =\r\n      \"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z\";\r\n\r\n    // Sync local state with theme changes\r\n    React.useEffect(() => {\r\n      setMounted(true);\r\n      // Determine if current theme is dark (system theme resolves automatically)\r\n      const currentIsDark = theme === \"dark\";\r\n      setIsDark(currentIsDark);\r\n    }, [theme]);\r\n\r\n    const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n      if (!circleRef.current || !raysRef.current) return;\r\n\r\n      const newIsDark = !isDark;\r\n\r\n      // Actually set the theme using next-themes\r\n      setTheme(newIsDark ? \"dark\" : \"light\");\r\n\r\n      if (newIsDark) {\r\n        // Morph sun rays to moon crescent\r\n        gsap.to(raysRef.current, {\r\n          duration,\r\n          ease: \"back.inOut(1.5)\",\r\n          morphSVG: moonCrescent,\r\n          scale: 1.1,\r\n          transformOrigin: \"center center\",\r\n        });\r\n        gsap.to(circleRef.current, {\r\n          duration: duration * 0.8,\r\n          ease: \"power2.in\",\r\n          opacity: 0,\r\n          scale: 0.8,\r\n          transformOrigin: \"center center\",\r\n        });\r\n      } else {\r\n        // Morph moon crescent to sun rays\r\n        gsap.to(raysRef.current, {\r\n          duration,\r\n          ease: \"back.out(1.7)\",\r\n          morphSVG: sunRays,\r\n          scale: 1.1,\r\n          transformOrigin: \"center center\",\r\n        });\r\n        gsap.to(circleRef.current, {\r\n          duration: duration * 0.9,\r\n          ease: \"back.out(1.7)\",\r\n          opacity: 1,\r\n          scale: 1,\r\n          transformOrigin: \"center center\",\r\n        });\r\n      }\r\n\r\n      // Note: isDark state will be updated via useEffect when theme changes\r\n      onStateChange?.(newIsDark);\r\n\r\n      // Call the original onClick handler if provided\r\n      onClick?.(e);\r\n    };\r\n\r\n    const Comp = asChild ? Slot : (\"button\" as const);\r\n\r\n    // Prevent hydration mismatch by not rendering until mounted\r\n    if (!mounted) {\r\n      return (\r\n        <Comp\r\n          className={cn(\r\n            themeToggleButtonVariants({ variant, size, className })\r\n          )}\r\n          ref={ref}\r\n          aria-label=\"Loading theme toggle\"\r\n          {...props}\r\n        >\r\n          <svg\r\n            width=\"16\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            className=\"size-4\"\r\n          >\r\n            <circle\r\n              cx=\"12\"\r\n              cy=\"12\"\r\n              r=\"4\"\r\n              stroke=\"none\"\r\n              fill=\"currentColor\"\r\n              className=\"transition-colors duration-500\"\r\n            />\r\n            <path\r\n              d=\"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41\"\r\n              stroke=\"currentColor\"\r\n              className=\"transition-colors duration-500\"\r\n            />\r\n          </svg>\r\n        </Comp>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Comp\r\n        className={cn(themeToggleButtonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        onClick={handleClick}\r\n        aria-label={\r\n          props[\"aria-label\"] ||\r\n          (isDark ? \"Switch to light mode\" : \"Switch to dark mode\")\r\n        }\r\n        data-state={isDark ? \"checked\" : \"unchecked\"}\r\n        {...props}\r\n      >\r\n        <svg\r\n          width=\"16\"\r\n          height=\"16\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth=\"2\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          className=\"size-4\"\r\n        >\r\n          <circle\r\n            ref={circleRef}\r\n            cx=\"12\"\r\n            cy=\"12\"\r\n            r=\"4\"\r\n            stroke=\"none\"\r\n            fill=\"currentColor\"\r\n            className=\"transition-colors duration-500\"\r\n          />\r\n          <path\r\n            ref={raysRef}\r\n            d={sunRays}\r\n            stroke=\"currentColor\"\r\n            className=\"transition-colors duration-500\"\r\n          />\r\n        </svg>\r\n        {props.children && (\r\n          <span className=\"text-inherit\">{props.children}</span>\r\n        )}\r\n      </Comp>\r\n    );\r\n  }\r\n);\r\n\r\nThemeToggleButton.displayName = \"ThemeToggleButton\";\r\n\r\nexport { ThemeToggleButton, themeToggleButtonVariants };\r\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/components/theme-toggle-button/rounded-demo.tsx",
      "content": "\"use client\";\r\n\r\nimport { ThemeToggleButton } from \"./theme-toggle-button\";\r\nexport function ThemeToggleRoundedDemo() {\r\n  return (\r\n    <div className=\"flex gap-4\">\r\n      <ThemeToggleButton\r\n        variant=\"outline\"\r\n        size=\"icon\"\r\n        className=\"rounded-full\"\r\n      />\r\n      <ThemeToggleButton\r\n        variant=\"default\"\r\n        size=\"icon\"\r\n        className=\"rounded-full\"\r\n      />\r\n      <ThemeToggleButton\r\n        variant=\"outline\"\r\n        size=\"icon\"\r\n        className=\"rounded-full [&_svg_circle]:fill-yellow-500 [&_svg_path]:stroke-yellow-500 [&[data-state=checked]_svg_circle]:fill-blue-500 [&[data-state=checked]_svg_path]:stroke-blue-500\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}