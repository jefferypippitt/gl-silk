{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "split-text-rotate",
  "type": "registry:component",
  "title": "Split Text Animation - Rotate",
  "description": "Rotate in animation for split text.",
  "dependencies": [
    "gsap"
  ],
  "files": [
    {
      "path": "registry/new-york/components/split-text-animation/split-text-animation.tsx",
      "content": "\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport gsap from \"gsap\";\r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { RotateCw } from \"lucide-react\";\r\n\r\n// Register GSAP plugins\r\ngsap.registerPlugin(ScrollTrigger);\r\n\r\ninterface SplitTextAnimationProps {\r\n  text: string;\r\n  animationType?: \"fade\" | \"slide\" | \"scale\" | \"rotate\";\r\n  direction?: \"up\" | \"down\" | \"left\" | \"right\";\r\n  duration?: number;\r\n  stagger?: number;\r\n  delay?: number;\r\n  className?: string;\r\n  showRerunButton?: boolean;\r\n}\r\n\r\nexport function SplitTextAnimation({\r\n  text,\r\n  animationType = \"fade\",\r\n  direction = \"up\",\r\n  duration = 0.8,\r\n  stagger = 0.05,\r\n  delay = 0,\r\n  className = \"\",\r\n  showRerunButton = false,\r\n}: SplitTextAnimationProps) {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const charsRef = useRef<HTMLSpanElement[]>([]);\r\n  const [rerunKey, setRerunKey] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    // Clear container first\r\n    containerRef.current.innerHTML = \"\";\r\n\r\n    // Get computed styles from container to inherit font properties\r\n    const containerStyles = window.getComputedStyle(containerRef.current);\r\n    const fontFamily = containerStyles.fontFamily;\r\n    const fontSize = containerStyles.fontSize;\r\n    const fontWeight = containerStyles.fontWeight;\r\n    const lineHeight = containerStyles.lineHeight;\r\n\r\n    // Split text into characters\r\n    const words = text.split(\" \");\r\n    const chars: HTMLSpanElement[] = [];\r\n\r\n    words.forEach((word) => {\r\n      const wordSpan = document.createElement(\"span\");\r\n      wordSpan.style.display = \"inline-block\";\r\n      wordSpan.style.marginRight = \"0.25em\";\r\n\r\n      word.split(\"\").forEach((char) => {\r\n        const charSpan = document.createElement(\"span\");\r\n        charSpan.textContent = char;\r\n        charSpan.style.display = \"inline-block\";\r\n        charSpan.style.opacity = \"0\";\r\n        // Inherit font properties from parent\r\n        charSpan.style.fontFamily = fontFamily;\r\n        charSpan.style.fontSize = fontSize;\r\n        charSpan.style.fontWeight = fontWeight;\r\n        charSpan.style.lineHeight = lineHeight;\r\n        // Don't set inline color - let CSS handle theme changes\r\n        wordSpan.appendChild(charSpan);\r\n        chars.push(charSpan);\r\n      });\r\n\r\n      containerRef.current?.appendChild(wordSpan);\r\n    });\r\n\r\n    charsRef.current = chars;\r\n\r\n    // Set initial state based on animation type\r\n    const setInitialState = () => {\r\n      chars.forEach((char) => {\r\n        gsap.set(char, { opacity: 0 });\r\n\r\n        switch (animationType) {\r\n          case \"fade\":\r\n            gsap.set(char, { opacity: 0 });\r\n            break;\r\n          case \"slide\":\r\n            const slideDistance = 50;\r\n            gsap.set(char, {\r\n              opacity: 0,\r\n              y:\r\n                direction === \"up\"\r\n                  ? slideDistance\r\n                  : direction === \"down\"\r\n                  ? -slideDistance\r\n                  : 0,\r\n              x:\r\n                direction === \"left\"\r\n                  ? slideDistance\r\n                  : direction === \"right\"\r\n                  ? -slideDistance\r\n                  : 0,\r\n            });\r\n            break;\r\n          case \"scale\":\r\n            gsap.set(char, { opacity: 0, scale: 0 });\r\n            break;\r\n          case \"rotate\":\r\n            gsap.set(char, { opacity: 0, rotation: 180 });\r\n            break;\r\n        }\r\n      });\r\n    };\r\n\r\n    setInitialState();\r\n\r\n    // Create animation timeline\r\n    const tl = gsap.timeline({\r\n      delay,\r\n      scrollTrigger: {\r\n        trigger: containerRef.current,\r\n        start: \"top 80%\",\r\n        toggleActions: \"play none none none\",\r\n      },\r\n    });\r\n\r\n    // Animate characters\r\n    switch (animationType) {\r\n      case \"fade\":\r\n        tl.to(chars, {\r\n          opacity: 1,\r\n          duration,\r\n          stagger,\r\n          ease: \"power2.out\",\r\n        });\r\n        break;\r\n      case \"slide\":\r\n        tl.to(chars, {\r\n          opacity: 1,\r\n          y: 0,\r\n          x: 0,\r\n          duration,\r\n          stagger,\r\n          ease: \"power2.out\",\r\n        });\r\n        break;\r\n      case \"scale\":\r\n        tl.to(chars, {\r\n          opacity: 1,\r\n          scale: 1,\r\n          duration,\r\n          stagger,\r\n          ease: \"back.out(1.7)\",\r\n        });\r\n        break;\r\n      case \"rotate\":\r\n        tl.to(chars, {\r\n          opacity: 1,\r\n          rotation: 0,\r\n          duration,\r\n          stagger,\r\n          ease: \"back.out(1.7)\",\r\n        });\r\n        break;\r\n    }\r\n\r\n    return () => {\r\n      // Cleanup\r\n      tl.kill();\r\n      ScrollTrigger.getAll().forEach((trigger) => trigger.kill());\r\n    };\r\n  }, [text, animationType, direction, duration, stagger, delay, rerunKey]);\r\n\r\n  const handleRerun = () => {\r\n    setRerunKey((prev) => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div ref={containerRef} className={`split-text-animation ${className}`} />\r\n      {showRerunButton && (\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={handleRerun}\r\n          className=\"absolute top-4 right-4 gap-2\"\r\n        >\r\n          <RotateCw className=\"h-4 w-4\" />\r\n          Rerun\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/components/split-text-animation/rotate-demo.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { SplitTextAnimation } from \"./split-text-animation\";\nimport { OpenInV0Button } from \"@/components/open-in-v0-button\";\nimport { Button } from \"@/components/ui/button\";\nimport { RotateCw } from \"lucide-react\";\n\nexport function RotateDemo() {\n  const [rerunKey, setRerunKey] = useState(0);\n\n  return (\n    <>\n      <div className=\"absolute top-4 right-4 z-10 flex gap-2\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => setRerunKey((prev) => prev + 1)}\n          className=\"gap-2\"\n        >\n          <RotateCw className=\"h-4 w-4\" />\n          Rerun\n        </Button>\n        <OpenInV0Button name=\"split-text-rotate\" />\n      </div>\n      <div className=\"flex items-center justify-center min-h-[400px] p-8\">\n        <SplitTextAnimation\n          key={rerunKey}\n          text=\"Rotating Text Effect\"\n          animationType=\"rotate\"\n          duration={0.7}\n          stagger={0.04}\n          className=\"text-center\"\n          showRerunButton={false}\n        />\n      </div>\n    </>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}